<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: iOS | Junda Ong]]></title>
  <link href="http://samwize.com/blog/categories/ios/atom.xml" rel="self"/>
  <link href="http://samwize.com/"/>
  <updated>2013-07-02T01:07:15+08:00</updated>
  <id>http://samwize.com/</id>
  <author>
    <name><![CDATA[Junda]]></name>
    <email><![CDATA[junda@just2us.com]]></email>
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[WWDC 2013 - download sessions directly]]></title>
    <link href="http://samwize.com/2013/07/02/wwdc-2013-download-sessions-directly/"/>
    <updated>2013-07-02T00:54:00+08:00</updated>
    <id>http://samwize.com/2013/07/02/wwdc-2013-download-sessions-directly</id>
    <content type="html"><![CDATA[Liquid error: invalid byte sequence in UTF-8]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Crash when using ChartboostInterstitialCustomEvent in MoPub: unrecognized selector requestAdWithSize]]></title>
    <link href="http://samwize.com/2013/06/14/crash-when-using-chartboostinterstitialcustomevent-in-mopub-unrecognized-selector-requestadwithsize/"/>
    <updated>2013-06-14T00:50:00+08:00</updated>
    <id>http://samwize.com/2013/06/14/crash-when-using-chartboostinterstitialcustomevent-in-mopub-unrecognized-selector-requestadwithsize</id>
    <content type="html"><![CDATA[<p>While integrating <a href="https://chartboost.com/">Chartboost</a> into <a href="http://mopub.com/">MoPub</a> for an iOS app, I encountered a crash every time there is a Chartboost ad loading.</p>

<p>The error is:</p>

<pre><code>ChartboostInterstitialCustomEvent requestAdWithSize customEventInfo unrecognized selector 
</code></pre>

<!-- more -->


<p>I thought it is a bug with MoPub at first (my experience tells me as MMedia crashes at times too).</p>

<p>After researching a while, I found out the crash is because MoPub tried to load a banner ad, while Chartboost does not have banner ads! Chartboost ONLY has interstitial ads!</p>

<p>To solve, you have to disable banner ads in MoPub portal for Chartboost..</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Remember to enable iAd for new iOS apps after uploading binary]]></title>
    <link href="http://samwize.com/2013/06/12/remember-to-enable-iad-for-new-ios-apps-after-uploading-binary/"/>
    <updated>2013-06-12T01:16:00+08:00</updated>
    <id>http://samwize.com/2013/06/12/remember-to-enable-iad-for-new-ios-apps-after-uploading-binary</id>
    <content type="html"><![CDATA[<p>You can enable iAd network ONLY when your app is in an editable state. That is after uploading binary and before being approved.</p>

<p>If not, you can't.</p>

<p>{%img center /images/enable-iads-when-app-is-in-editable-state.png %}</p>

<p>I am not sure how many developers forgot to enable iAd. But I am one. And I blatantly forgot to enable 1 app for over a year.. (I also use Admob, Mopub, MMedia, etc)</p>

<p>Why can't we just flick the switch?</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Fix cocoapod error: the platform of the target pods is not compatible]]></title>
    <link href="http://samwize.com/2013/06/09/fix-cocoapod-error-the-platform-of-the-target-pods-is-not-compatible/"/>
    <updated>2013-06-09T22:46:00+08:00</updated>
    <id>http://samwize.com/2013/06/09/fix-cocoapod-error-the-platform-of-the-target-pods-is-not-compatible</id>
    <content type="html"><![CDATA[<p>While using <a href="http://cocoapods.org/">Cocoapod</a> and running <code>pod install</code>, I encountered the following error:</p>

<pre><code>[!] The platform of the target `Pods` (iOS 4.3) is not compatible with `FlatUIKit (1.1)` which has a minimum requirement of iOS 5.0.
</code></pre>

<!-- more -->


<p>There is obviously a dependency error. Immediately, I open Xcode, go to Project Building Settings, and changed <strong>iOS Deployment Target</strong> to 5.0. I was pretty sure that is the way to change the minimum deployment version.</p>

<p>However, running the command gives me the same error.</p>

<p>I was puzzled. Did I set it wrongly in Xcode? I started to question myself..</p>

<p>After some probing, I realized it is Cocoapod's <a href="https://github.com/CocoaPods/CocoaPods/issues/603">fault</a>.</p>

<p>You have to write in <code>Podfile</code> your minimum deployment version eg.</p>

<p><code>
platform :ios, '5.0'
pod 'FlatUIKit', '~&gt; 1.1'
</code></p>

<p>If you don't specify '5.0', it is taken to be '4.3'. Duh.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Using OpenCV to match template multiple times]]></title>
    <link href="http://samwize.com/2013/06/09/using-opencv-to-match-template-multiple-times/"/>
    <updated>2013-06-09T02:15:00+08:00</updated>
    <id>http://samwize.com/2013/06/09/using-opencv-to-match-template-multiple-times</id>
    <content type="html"><![CDATA[<p>OpenCV has a <a href="http://opencv.itseez.com/modules/imgproc/doc/object_detection.html?highlight=matchtemplate#matchtemplate">matchTemplate</a> function that let you seach for matches between an image and a given template.</p>

<!-- more -->


<p>There is a <a href="http://docs.opencv.org/doc/tutorials/imgproc/histograms/template_matching/template_matching.html#template-matching">tutorial</a> on that.</p>

<p>However, the tutorial falls short. It only explain how to match 1 occurence.</p>

<p>I know the answer is somewhere in the <code>result</code>.. But I am a newbie and cannot figure out. Do are <a href="http://answers.opencv.org/question/11180/template-matching-with-multiple-occurance/">others</a>.</p>

<p>I found the best answer from: <a href="http://opencv-code.com/quick-tips/how-to-handle-template-matching-with-multiple-occurences/">OpenCV-Code.com</a></p>

<p>The genius part of the code is that it finds a match with <code>minMaxLoc</code>, then it <code>floodFill</code> it. Then it can repeat.</p>

<p>I have used it for an iOS project to count the number of matching templates. Here's the code:</p>

<p>```cpp
// Returns number of matching templates
+ (int)matchTemplate:(UIImage<em>)templateImage in:(UIImage</em>)src {</p>

<pre><code>// http://opencv-code.com/quick-tips/how-to-handle-template-matching-with-multiple-occurences/
cv::Mat ref = [src CVMat];
cv::Mat tpl = [templateImage CVMat];
cv::Mat gref, gtpl;
cv::cvtColor(ref, gref, CV_BGR2GRAY);
cv::cvtColor(tpl, gtpl, CV_BGR2GRAY);

cv::Mat res(ref.rows-tpl.rows+1, ref.cols-tpl.cols+1, CV_32FC1);
cv::matchTemplate(gref, gtpl, res, CV_TM_CCOEFF_NORMED);
cv::threshold(res, res, 0.9, 1., CV_THRESH_TOZERO);

int count = 0;
while (true)
{
    double minval, maxval, threshold = 0.9;
    cv::Point minloc, maxloc;
    cv::minMaxLoc(res, &amp;minval, &amp;maxval, &amp;minloc, &amp;maxloc);

    if (maxval &gt;= threshold)
    {
        cv::rectangle(
                      ref,
                      maxloc,
                      cv::Point(maxloc.x + tpl.cols, maxloc.y + tpl.rows),
                      CV_RGB(0,255,0), 2
                      );
        cv::floodFill(res, maxloc, cv::Scalar(0), 0, cv::Scalar(.1), cv::Scalar(1.));
        count++;
    }
    else
        break;
}

NSLog(@"# of matches: %d", count);

return count;
</code></pre>

<p>}
```</p>
]]></content>
  </entry>
  
</feed>
