<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Junda Ong]]></title>
  <link href="http://samwize.com/atom.xml" rel="self"/>
  <link href="http://samwize.com/"/>
  <updated>2013-07-02T20:51:40+08:00</updated>
  <id>http://samwize.com/</id>
  <author>
    <name><![CDATA[Junda]]></name>
    <email><![CDATA[junda@just2us.com]]></email>
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[A Python Tool to extract email]]></title>
    <link href="http://samwize.com/2013/07/02/a-python-tool-to-extract-email/"/>
    <updated>2013-07-02T20:28:00+08:00</updated>
    <id>http://samwize.com/2013/07/02/a-python-tool-to-extract-email</id>
    <content type="html"><![CDATA[<p>Recently I was requested by my fiancee to help send bulk SMS to her students. Its an emergency relay.</p>

<p>I know how to send bulk SMS (using SMS API). What it needs is the list of phone numbers in csv format. But all she send me is a &#8216;nice looking&#8217; word document with the names and phone numbers.. I could spend 10 minutes copy-and-paste the phone numbers..</p>

<p>But being a programmer, I added extraction of mobile phone numbers (Singapore format only) to <a href="https://github.com/samwize/pyExtractor">pyExtractor</a>.</p>

<p>This is the tool which I wrote 1 year ago to extract emails, URLs and domain names.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[WWDC 2013 - download sessions directly]]></title>
    <link href="http://samwize.com/2013/07/02/wwdc-2013-download-sessions-directly/"/>
    <updated>2013-07-02T00:54:00+08:00</updated>
    <id>http://samwize.com/2013/07/02/wwdc-2013-download-sessions-directly</id>
    <content type="html"><![CDATA[<p>Unlike in previous years (WWDC 2012 and earlier), the developer session videos can be subscribed in iTunes University, hence you can easily download all the videos and conveniently sync to your iPhone to watch.</p>

<p>But for WWDC 2013, Apple provided (an app)[https://itunes.apple.com/us/app/wwdc/id640199958?mt=8], which seems to be the recommended way for developers to watch from their iPhone.</p>

<p>You can also download 1 by 1 from <a href="https://developer.apple.com/wwdc/videos/">Apple Developer website</a>.
â€Ž
But here is a better: <a href="https://github.com/ohoachuck/wwdc-downloader">WWDC Video and PDF downloder</a> by <a href="http://blog.hoachuck.biz/blog/2013/06/15/script-to-download-wwdc-2013-videos">ohoachuck</a>.</p>

<p>Or a <a href="http://blog.manbolo.com/2013/06/18/download-videos-and-slides-from-wwdc-2013">Python version</a>.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[iOS Data Storage Guidelines - and how to resolve iTunes Connect Reject]]></title>
    <link href="http://samwize.com/2013/06/28/ios-data-storage-guidelines-and-how-to-resolve-itunes-connect-reject/"/>
    <updated>2013-06-28T01:10:00+08:00</updated>
    <id>http://samwize.com/2013/06/28/ios-data-storage-guidelines-and-how-to-resolve-itunes-connect-reject</id>
    <content type="html"><![CDATA[<p>Since the introduction of <a href="https://www.apple.com/support/icloud/backup/">iCloud Backup</a>, developers have increasingly faced the following reason for rejected binary:</p>

<pre><code>2.23: Apps must follow the iOS Data Storage Guidelines or they will be rejected

The iOS Data Storage Guidelines indicate that only content that the user creates using your app, e.g., documents, new files, edits, etc., should be backed up by iCloud. 
</code></pre>

<p>This all boils down to understanding <a href="http://developer.apple.com/library/ios/#documentation/iPhone/Conceptual/iPhoneOSProgrammingGuide/PerformanceTuning/PerformanceTuning.html#//apple_ref/doc/uid/TP40007072-CH8-SW9">iOS Data Storage Guidelines</a>.</p>

<!-- more -->


<h1>How App Backup and Update</h1>

<p>Apps are backup via iCloud/iTunes, but they do NOT backup the following directories:</p>

<ol>
<li><code>&lt;Application_Home&gt;/AppName.app</code></li>
<li><code>&lt;Application_Home&gt;/Library/Caches</code></li>
<li><code>&lt;Application_Home&gt;/tmp</code></li>
</ol>


<p>In addition, if a file has an attribute that says &#8220;exclude from backup&#8221;, it will NOT be backup too.</p>

<p>When you update an application, data in these 2 directories will be copied over:</p>

<ol>
<li><code>&lt;Application_Home&gt;/Documents</code></li>
<li><code>&lt;Application_Home&gt;/Library</code></li>
</ol>


<p>Although files in other user directories may also be moved over, you should not rely on them being present after an update.</p>

<h1>Type of data - Critical, Support, Cached, Temporary</h1>

<p>Before we move on, these are the definitions for the 4 types of data:</p>

<ol>
<li><p><strong>Critical</strong>: Data that cannot be recreated by your app such as user generated content. These need to be backup.</p></li>
<li><p><strong>Support</strong>: Needed files which the app can re-generate or download. They should be excluded from backup.</p></li>
<li><p><strong>Cached</strong>: Downloaded content such as images, map data, magazine. System could delete them to free up disk space.</p></li>
<li><p><strong>Temporary</strong>: Data that are needed for a short while such as during processing. You should delete them after use.</p></li>
</ol>


<p>As you see, only critical data should be backup.</p>

<h1>Different iOS Version</h1>

<p>There are 3 versions that you <a href="https://developer.apple.com/library/ios/#qa/qa1719/_index.html">need to beware of</a> when you are using iCloud Backup. It is a fragmentation issue.</p>

<p>Actually it deals with what files you do NOT want to backup. Because if you simply backup every files (including non critical files), Apple will reject your app.</p>

<ol>
<li><p>5.1 and later: You can add a file attribute <code>NSURLIsExcludedFromBackupKey</code> to specify that you don&#8217;t want to backup the file.</p></li>
<li><p>5.0.1: A slightly different method that uses <code>setxattr</code></p></li>
<li><p>5.0: No method to specify a file not to backup. The only way is to store them in <code>&lt;Application_Home&gt;/Library/Caches</code></p></li>
</ol>


<h1>Summary</h1>

<p>At last, this is the guideline for your files.</p>

<ul>
<li><p>For <strong>critcal</strong> data (the only type that need to be backup), store them in:</p>

<ul>
<li><code>&lt;Application_Home&gt;/Documents</code></li>
</ul>
</li>
<li><p>For <strong>support</strong> data, they should be excluded from backup. It is a little complicated due to the different iOS version.</p>

<ul>
<li><p>For iOS 5.0.1 and later, store in <code>&lt;Application_Home&gt;/Library/Application Support</code> and add the file attribute as described in the previous section.</p></li>
<li><p>If you need to support iOS 5.0, then store in <code>&lt;Application_Home&gt;/Library/Caches</code> and still use the file attributes for 5.0.1 and later</p></li>
<li><p>Note: Support files might not exist when an app backup or update, so you should check if it exists first before use.</p></li>
</ul>
</li>
<li><p>For <strong>cache</strong>, store in</p>

<ul>
<li><code>&lt;Application_Home&gt;/Library/Caches</code></li>
</ul>
</li>
<li><p>For <strong>temp</strong> files, store in</p>

<ul>
<li><code>&lt;Application_Home&gt;/tmp</code></li>
</ul>
</li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Crash when using ChartboostInterstitialCustomEvent in MoPub: unrecognized selector requestAdWithSize]]></title>
    <link href="http://samwize.com/2013/06/14/crash-when-using-chartboostinterstitialcustomevent-in-mopub-unrecognized-selector-requestadwithsize/"/>
    <updated>2013-06-14T00:50:00+08:00</updated>
    <id>http://samwize.com/2013/06/14/crash-when-using-chartboostinterstitialcustomevent-in-mopub-unrecognized-selector-requestadwithsize</id>
    <content type="html"><![CDATA[<p>While integrating <a href="https://chartboost.com/">Chartboost</a> into <a href="http://mopub.com/">MoPub</a> for an iOS app, I encountered a crash every time there is a Chartboost ad loading.</p>

<p>The error is:</p>

<pre><code>ChartboostInterstitialCustomEvent requestAdWithSize customEventInfo unrecognized selector 
</code></pre>

<!-- more -->


<p>I thought it is a bug with MoPub at first (my experience tells me as MMedia crashes at times too).</p>

<p>After researching a while, I found out the crash is because MoPub tried to load a banner ad, while Chartboost does not have banner ads! Chartboost ONLY has interstitial ads!</p>

<p>To solve, you have to disable banner ads in MoPub portal for Chartboost..</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Remember to enable iAd for new iOS apps after uploading binary]]></title>
    <link href="http://samwize.com/2013/06/12/remember-to-enable-iad-for-new-ios-apps-after-uploading-binary/"/>
    <updated>2013-06-12T01:16:00+08:00</updated>
    <id>http://samwize.com/2013/06/12/remember-to-enable-iad-for-new-ios-apps-after-uploading-binary</id>
    <content type="html"><![CDATA[<p>You can enable iAd network ONLY when your app is in an editable state. That is after uploading binary and before being approved.</p>

<p>If not, you can&#8217;t.</p>

<p><img class="center" src="http://samwize.com/images/enable-iads-when-app-is-in-editable-state.png"></p>

<p>I am not sure how many developers forgot to enable iAd. But I am one. And I blatantly forgot to enable 1 app for over a year.. (I also use Admob, Mopub, MMedia, etc)</p>

<p>Why can&#8217;t we just flick the switch?</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Fix rake error: You have already activated rake x.x.x]]></title>
    <link href="http://samwize.com/2013/06/09/fix-rake-error-you-have-already-activated-rake-x-dot-x-x/"/>
    <updated>2013-06-09T22:55:00+08:00</updated>
    <id>http://samwize.com/2013/06/09/fix-rake-error-you-have-already-activated-rake-x-dot-x-x</id>
    <content type="html"><![CDATA[<p>I encountered the following error when I try to create a new post in Octopress:</p>

<pre><code>You have already activated rake 10.0.4, but your Gemfile requires rake 0.9.2.2. Using bundle exec may solve this.
</code></pre>

<!-- more -->


<p>This happened because I updated rake.</p>

<p>To solve, simple open <code>Gemfile</code>, and update the version number to the latest activated version on your system. eg.</p>

<pre><code>gem 'rake', '~&gt; 10.0.4'
</code></pre>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Fix cocoapod error: the platform of the target pods is not compatible]]></title>
    <link href="http://samwize.com/2013/06/09/fix-cocoapod-error-the-platform-of-the-target-pods-is-not-compatible/"/>
    <updated>2013-06-09T22:46:00+08:00</updated>
    <id>http://samwize.com/2013/06/09/fix-cocoapod-error-the-platform-of-the-target-pods-is-not-compatible</id>
    <content type="html"><![CDATA[<p>While using <a href="http://cocoapods.org/">Cocoapod</a> and running <code>pod install</code>, I encountered the following error:</p>

<pre><code>[!] The platform of the target `Pods` (iOS 4.3) is not compatible with `FlatUIKit (1.1)` which has a minimum requirement of iOS 5.0.
</code></pre>

<!-- more -->


<p>There is obviously a dependency error. Immediately, I open Xcode, go to Project Building Settings, and changed <strong>iOS Deployment Target</strong> to 5.0. I was pretty sure that is the way to change the minimum deployment version.</p>

<p>However, running the command gives me the same error.</p>

<p>I was puzzled. Did I set it wrongly in Xcode? I started to question myself..</p>

<p>After some probing, I realized it is Cocoapod&#8217;s <a href="https://github.com/CocoaPods/CocoaPods/issues/603">fault</a>.</p>

<p>You have to write in <code>Podfile</code> your minimum deployment version eg.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>platform :ios, '5.0'
</span><span class='line'>pod 'FlatUIKit', '~&gt; 1.1'</span></code></pre></td></tr></table></div></figure>


<p>If you don&#8217;t specify &#8216;5.0&#8217;, it is taken to be &#8216;4.3&#8217;. Duh.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Mac Right Click using Keyboard Shortcut]]></title>
    <link href="http://samwize.com/2013/06/09/mac-right-click-using-keyboard-shortcut/"/>
    <updated>2013-06-09T15:59:00+08:00</updated>
    <id>http://samwize.com/2013/06/09/mac-right-click-using-keyboard-shortcut</id>
    <content type="html"><![CDATA[<p>If you to be more efficient with computers, you must use the keyboard more than the mouse.</p>

<p>For Mac, it remains a mystery why there isn&#8217;t a built-in keyboard shortcut for &#8220;right clicking&#8221;. As of Jun 2013, with Mountain Lion, we still lack that.</p>

<p>However, there is a <a href="http://superuser.com/questions/93937/keyboard-shortcut-to-right-click-in-mac-os-x">workaround</a>. But it is recommended only for Mac users with a <strong>separate numpad</strong>.</p>

<p>Luckily I chose to have a Apple Keyboard with Numeric Keypad for my new 27&#8221; iMac..</p>

<!-- more -->


<p>Go to:</p>

<pre><code>System Preferences &gt; Accessibility &gt; Mouse &amp; Trackpad &gt; Enable Mouse Keys
</code></pre>

<p>Press <code>Control+5</code> for right click.</p>

<h2>UPDATE</h2>

<p>Shortly after trying out, I realize this &#8216;shortcut&#8217; is not what I wanted.</p>

<p>Because to &#8216;right click&#8217;, you have to move your mouse to that location FIRST, then right click on. That is not cool.</p>

<p>What I wanted is when I am at a particular item, I can activate &#8216;right click&#8217;, for example to bring up the contextual menu in Finder.
The trick above would be useless. And it rendered my Keypad useless; I can&#8217;t enter numbers.</p>

<p>Therefore, the above is NOT recommended.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Using OpenCV to match template multiple times]]></title>
    <link href="http://samwize.com/2013/06/09/using-opencv-to-match-template-multiple-times/"/>
    <updated>2013-06-09T02:15:00+08:00</updated>
    <id>http://samwize.com/2013/06/09/using-opencv-to-match-template-multiple-times</id>
    <content type="html"><![CDATA[<p>OpenCV has a <a href="http://opencv.itseez.com/modules/imgproc/doc/object_detection.html?highlight=matchtemplate#matchtemplate">matchTemplate</a> function that let you seach for matches between an image and a given template.</p>

<!-- more -->


<p>There is a <a href="http://docs.opencv.org/doc/tutorials/imgproc/histograms/template_matching/template_matching.html#template-matching">tutorial</a> on that.</p>

<p>However, the tutorial falls short. It only explain how to match 1 occurence.</p>

<p>I know the answer is somewhere in the <code>result</code>.. But I am a newbie and cannot figure out. Do are <a href="http://answers.opencv.org/question/11180/template-matching-with-multiple-occurance/">others</a>.</p>

<p>I found the best answer from: <a href="http://opencv-code.com/quick-tips/how-to-handle-template-matching-with-multiple-occurences/">OpenCV-Code.com</a></p>

<p>The genius part of the code is that it finds a match with <code>minMaxLoc</code>, then it <code>floodFill</code> it. Then it can repeat.</p>

<p>I have used it for an iOS project to count the number of matching templates. Here&#8217;s the code:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
</pre></td><td class='code'><pre><code class='cpp'><span class='line'><span class="c1">// Returns number of matching templates</span>
</span><span class='line'><span class="o">+</span> <span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="nl">matchTemplate:</span><span class="p">(</span><span class="n">UIImage</span><span class="o">*</span><span class="p">)</span><span class="n">templateImage</span> <span class="nl">in:</span><span class="p">(</span><span class="n">UIImage</span><span class="o">*</span><span class="p">)</span><span class="n">src</span> <span class="p">{</span>
</span><span class='line'>    <span class="c1">// http://opencv-code.com/quick-tips/how-to-handle-template-matching-with-multiple-occurences/</span>
</span><span class='line'>    <span class="n">cv</span><span class="o">::</span><span class="n">Mat</span> <span class="n">ref</span> <span class="o">=</span> <span class="p">[</span><span class="n">src</span> <span class="n">CVMat</span><span class="p">];</span>
</span><span class='line'>    <span class="n">cv</span><span class="o">::</span><span class="n">Mat</span> <span class="n">tpl</span> <span class="o">=</span> <span class="p">[</span><span class="n">templateImage</span> <span class="n">CVMat</span><span class="p">];</span>
</span><span class='line'>    <span class="n">cv</span><span class="o">::</span><span class="n">Mat</span> <span class="n">gref</span><span class="p">,</span> <span class="n">gtpl</span><span class="p">;</span>
</span><span class='line'>    <span class="n">cv</span><span class="o">::</span><span class="n">cvtColor</span><span class="p">(</span><span class="n">ref</span><span class="p">,</span> <span class="n">gref</span><span class="p">,</span> <span class="n">CV_BGR2GRAY</span><span class="p">);</span>
</span><span class='line'>    <span class="n">cv</span><span class="o">::</span><span class="n">cvtColor</span><span class="p">(</span><span class="n">tpl</span><span class="p">,</span> <span class="n">gtpl</span><span class="p">,</span> <span class="n">CV_BGR2GRAY</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'>    <span class="n">cv</span><span class="o">::</span><span class="n">Mat</span> <span class="n">res</span><span class="p">(</span><span class="n">ref</span><span class="p">.</span><span class="n">rows</span><span class="o">-</span><span class="n">tpl</span><span class="p">.</span><span class="n">rows</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">ref</span><span class="p">.</span><span class="n">cols</span><span class="o">-</span><span class="n">tpl</span><span class="p">.</span><span class="n">cols</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">CV_32FC1</span><span class="p">);</span>
</span><span class='line'>    <span class="n">cv</span><span class="o">::</span><span class="n">matchTemplate</span><span class="p">(</span><span class="n">gref</span><span class="p">,</span> <span class="n">gtpl</span><span class="p">,</span> <span class="n">res</span><span class="p">,</span> <span class="n">CV_TM_CCOEFF_NORMED</span><span class="p">);</span>
</span><span class='line'>    <span class="n">cv</span><span class="o">::</span><span class="n">threshold</span><span class="p">(</span><span class="n">res</span><span class="p">,</span> <span class="n">res</span><span class="p">,</span> <span class="mf">0.9</span><span class="p">,</span> <span class="mf">1.</span><span class="p">,</span> <span class="n">CV_THRESH_TOZERO</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'>    <span class="kt">int</span> <span class="n">count</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span><span class='line'>    <span class="k">while</span> <span class="p">(</span><span class="kc">true</span><span class="p">)</span>
</span><span class='line'>    <span class="p">{</span>
</span><span class='line'>        <span class="kt">double</span> <span class="n">minval</span><span class="p">,</span> <span class="n">maxval</span><span class="p">,</span> <span class="n">threshold</span> <span class="o">=</span> <span class="mf">0.9</span><span class="p">;</span>
</span><span class='line'>        <span class="n">cv</span><span class="o">::</span><span class="n">Point</span> <span class="n">minloc</span><span class="p">,</span> <span class="n">maxloc</span><span class="p">;</span>
</span><span class='line'>        <span class="n">cv</span><span class="o">::</span><span class="n">minMaxLoc</span><span class="p">(</span><span class="n">res</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">minval</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">maxval</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">minloc</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">maxloc</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'>        <span class="k">if</span> <span class="p">(</span><span class="n">maxval</span> <span class="o">&gt;=</span> <span class="n">threshold</span><span class="p">)</span>
</span><span class='line'>        <span class="p">{</span>
</span><span class='line'>            <span class="n">cv</span><span class="o">::</span><span class="n">rectangle</span><span class="p">(</span>
</span><span class='line'>                          <span class="n">ref</span><span class="p">,</span>
</span><span class='line'>                          <span class="n">maxloc</span><span class="p">,</span>
</span><span class='line'>                          <span class="n">cv</span><span class="o">::</span><span class="n">Point</span><span class="p">(</span><span class="n">maxloc</span><span class="p">.</span><span class="n">x</span> <span class="o">+</span> <span class="n">tpl</span><span class="p">.</span><span class="n">cols</span><span class="p">,</span> <span class="n">maxloc</span><span class="p">.</span><span class="n">y</span> <span class="o">+</span> <span class="n">tpl</span><span class="p">.</span><span class="n">rows</span><span class="p">),</span>
</span><span class='line'>                          <span class="n">CV_RGB</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">255</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="mi">2</span>
</span><span class='line'>                          <span class="p">);</span>
</span><span class='line'>            <span class="n">cv</span><span class="o">::</span><span class="n">floodFill</span><span class="p">(</span><span class="n">res</span><span class="p">,</span> <span class="n">maxloc</span><span class="p">,</span> <span class="n">cv</span><span class="o">::</span><span class="n">Scalar</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span> <span class="mi">0</span><span class="p">,</span> <span class="n">cv</span><span class="o">::</span><span class="n">Scalar</span><span class="p">(</span><span class="mf">.1</span><span class="p">),</span> <span class="n">cv</span><span class="o">::</span><span class="n">Scalar</span><span class="p">(</span><span class="mf">1.</span><span class="p">));</span>
</span><span class='line'>            <span class="n">count</span><span class="o">++</span><span class="p">;</span>
</span><span class='line'>        <span class="p">}</span>
</span><span class='line'>        <span class="k">else</span>
</span><span class='line'>            <span class="k">break</span><span class="p">;</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="n">NSLog</span><span class="p">(</span><span class="err">@</span><span class="s">&quot;# of matches: %d&quot;</span><span class="p">,</span> <span class="n">count</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'>    <span class="k">return</span> <span class="n">count</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[armv7s build for tesseract and opencv2]]></title>
    <link href="http://samwize.com/2013/06/08/armv7s-build-for-tesseract-and-opencv2/"/>
    <updated>2013-06-08T00:07:00+08:00</updated>
    <id>http://samwize.com/2013/06/08/armv7s-build-for-tesseract-and-opencv2</id>
    <content type="html"><![CDATA[<p>Tesseract is the OCR engine that helps to recoginze text. Google now maintains <a href="https://code.google.com/p/tesseract-ocr/wiki/ReadMe">the project</a>.</p>

<p>You can use Tesseract on iOS too.</p>

<p>I <a href="https://github.com/samwize/iPhone-OCR-Tesseract-and-OpenCV">forked</a> the github project because the <a href="https://github.com/pablosproject/iPhone-OCR-Tesseract-and-OpenCV">original</a> has a couple of problems compiling. To be precise:</p>

<pre><code>File is universal (three slices), but it does not contain a(n) ARMv7-s slice for ..
</code></pre>

<!-- more -->


<p>This is because the original project was 10 months ago, and did not support for armv7s (iPhone 5). You can <a href="http://www.galloway.me.uk/2012/09/hacking-up-an-armv7s-library/">hack</a> a build by yourself.</p>

<p>But I have fixed that for both tesseract libs and also updated opencv2 libs.</p>

<p>For your convenience: <a href="https://github.com/samwize/iPhone-OCR-Tesseract-and-OpenCV">https://github.com/samwize/iPhone-OCR-Tesseract-and-OpenCV</a></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Extract YouTube Video Links - Github Project]]></title>
    <link href="http://samwize.com/2013/06/06/extract-youtube-video-links-github-project/"/>
    <updated>2013-06-06T22:17:00+08:00</updated>
    <id>http://samwize.com/2013/06/06/extract-youtube-video-links-github-project</id>
    <content type="html"><![CDATA[<p>I have create <a href="https://github.com/samwize/youtube-parser">youtube-parser</a>, a small node.js app to extract youtube video links from Youtube.com.</p>

<p>You can find out <a href="http://www.just2me.com/2013/06/how-i-downloaded-100-full-house-youtube.html">why</a> I need that..</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Show hidden files in Finder for Mountain Lion]]></title>
    <link href="http://samwize.com/2013/05/27/show-hidden-files-in-finder-for-mountain-lion/"/>
    <updated>2013-05-27T22:20:00+08:00</updated>
    <id>http://samwize.com/2013/05/27/show-hidden-files-in-finder-for-mountain-lion</id>
    <content type="html"><![CDATA[<p>You can show hidden files in Finder on your Mountain Lion (or any Mac OS).</p>

<p>On Terminal, run this:</p>

<pre><code>defaults write com.apple.Finder AppleShowAllFiles YES
</code></pre>

<!-- more -->


<p>Right click on Finder, and select Relaunch.</p>

<p>Voila!</p>

<p>Simlarly, to hide the files in Finder, run this:</p>

<pre><code>defaults write com.apple.Finder AppleShowAllFiles NO
</code></pre>

<h2>Bonus: Find all the big files</h2>

<p>One of the reason to show the hidden files is to find all the big files that occupy your disk space.</p>

<p>An easy way is use Finder Search.</p>

<ul>
<li><p>Hit Command+F in Finder to bring up the search.</p></li>
<li><p>Click on Others > File Size</p></li>
<li><p>Enter the search criteria eg. greater than 1MB</p></li>
</ul>


<p><img class="center" src="http://cdn.osxdaily.com/wp-content/uploads/2012/04/find-large-files-mac.jpg"></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Find all .git in a directory]]></title>
    <link href="http://samwize.com/2013/05/26/find-all-git-in-a-directory/"/>
    <updated>2013-05-26T22:02:00+08:00</updated>
    <id>http://samwize.com/2013/05/26/find-all-git-in-a-directory</id>
    <content type="html"><![CDATA[<p>To find all the git repositories in a directory, you can run the following command (which search for the <code>.git</code> directories):</p>

<pre><code>find . -type d -name .git
</code></pre>

<!-- more -->


<p>It is using the <code>find</code> command, with the type directory, and name <code>.git</code>.</p>

<p>If you want to delete them, you can do this:</p>

<pre><code>find . -type d -name .git | xargs rm -rf
</code></pre>

<p>PS: The <code>find</code> command has a <code>-delete</code> option, but that somehow doesn&#8217;t work with directory.</p>

<h2>Remove all .DS_Store and .gitignore</h2>

<p>If you are like me who wants to clean up a directory with all the git stuff and send to a possibly Windows user, you could run these:</p>

<pre><code>find . -name '*.DS_Store' -type f -delete
find . -name '.gitignore' -type f -delete
</code></pre>

<p>The <code>-delete</code> option works for the files.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[New Theme for Octopress]]></title>
    <link href="http://samwize.com/2013/05/23/new-theme-for-octopress/"/>
    <updated>2013-05-23T23:44:00+08:00</updated>
    <id>http://samwize.com/2013/05/23/new-theme-for-octopress</id>
    <content type="html"><![CDATA[<p>I have changed the classic Octopress theme to this cleaner greyshade theme by <a href="http://shashankmehta.in/archive/2012/greyshade.html">Shashank Mehta</a>.</p>

<p>This is how you can install:</p>

<!-- more -->




<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ git submodule add git@github.com:shashankmehta/greyshade.git .themes/greyshade
</span><span class='line'>$ git submodule update --init
</span><span class='line'>$ echo "\$greyshade: #1DBE49;" &gt;&gt; sass/custom/_colors.scss
</span><span class='line'>$ rake "install[greyshade]"</span></code></pre></td></tr></table></div></figure>


<p>Note that the <a href="https://github.com/shashankmehta/greyshade#readme">only condition</a> from the author is that you use a unique highlight color. In the above, my highlight color is <code>#1DBE49</code> (my kind of green).</p>

<p>After installing, I entered my <code>email</code> in <code>_config.yml</code> which is needed to show the profile pic (via Gravatar).</p>

<p>With that, here are screenshots of the old vs new:</p>

<p><img class="center" src="http://samwize.com/images/theme-classic.png"></p>

<p><img class="center" src="http://samwize.com/images/theme-greyshade.png"></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Where is global gitignore?]]></title>
    <link href="http://samwize.com/2013/05/12/where-is-global-gitignore/"/>
    <updated>2013-05-12T14:59:00+08:00</updated>
    <id>http://samwize.com/2013/05/12/where-is-global-gitignore</id>
    <content type="html"><![CDATA[<p>I made a commit to a git repos and broke the build.</p>

<p>(I should be punished to clean the toilet for a week for accidents like this)</p>

<p>But what happened was unexpected, because I added a framework (Crashlytics), and I thought the library will be pushed fine to the repos.</p>

<p>What I didn&#8217;t expect was that my GLOBAL gitignore has an entry for Crashlytics framework.</p>

<p>For developers who didn&#8217;t know, other than the project gitignore file, there is also a global file for your machine.</p>

<p>It is at <code>~/.gitignore_global</code>.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Android use-feature element is case sensitive]]></title>
    <link href="http://samwize.com/2013/05/09/android-use-feature-element-is-case-sensitive/"/>
    <updated>2013-05-09T22:12:00+08:00</updated>
    <id>http://samwize.com/2013/05/09/android-use-feature-element-is-case-sensitive</id>
    <content type="html"><![CDATA[<p>In the previous post, I discussed about how to <a href="http://samwize.com/2013/05/07/why-an-android-app-is-not-supported-for-a-particular-device/">Google Play manage compatibility</a> between your app and devices.</p>

<p>The key is to make <code>use-feature</code> optional.</p>

<p>Recently, I have encountered another problem which I want to share.</p>

<p>I have this in my manifest file:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'><span class="nt">&lt;uses-feature</span> <span class="na">android:name=</span><span class="s">&quot;android.hardware.TELEPHONY&quot;</span> <span class="na">android:required=</span><span class="s">&quot;false&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;uses-permission</span> <span class="na">android:name=</span><span class="s">&quot;android.permission.INTERNET&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'><span class="nt">&lt;uses-permission</span> <span class="na">android:name=</span><span class="s">&quot;android.permission.ACCESS_NETWORK_STATE&quot;</span> <span class="nt">/&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>On first look, it seems ok. Making TELEPHONY optional will make the app compatible with tablet (a common solution).</p>

<p>However, the above is WRONG! Because it should be <code>android.hardware.telephony</code> (lower case)!</p>

<p>I made a mistake.</p>

<p>But I also blame Android, because for permission, it is upper case! <code>android.permission.INTERNET</code> is correct.</p>

<p>Weirdedness of Android..</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Why an Android app is not supported for a particular device?]]></title>
    <link href="http://samwize.com/2013/05/07/why-an-android-app-is-not-supported-for-a-particular-device/"/>
    <updated>2013-05-07T22:46:00+08:00</updated>
    <id>http://samwize.com/2013/05/07/why-an-android-app-is-not-supported-for-a-particular-device</id>
    <content type="html"><![CDATA[<p>This is what happend to my Android app.</p>

<p>It works well when I install and test on my Lenovo IdeaPad Tablet (it could be any other device).</p>

<p>But after I upload the APK to Google Play Store, I could not find the app using the tablet!</p>

<!-- more -->


<p>After researching, I realized it is to do with the features and permissions declared in the manifest file. Google Play has <a href="http://developer.android.com/google/play/filters.html">filtering</a>.</p>

<p>The documentation that you must read is on the <a href="http://developer.android.com/guide/topics/manifest/uses-feature-element.html#market-feature-filtering">uses-feature element</a>.</p>

<p>Key takeaway:</p>

<ul>
<li><p>If you don&#8217;t use a feature, you must EXPLICITLY say that <code>required=false</code>!</p></li>
<li><p><a href="http://developer.android.com/guide/topics/manifest/uses-feature-element.html#permissions">Permissions imply Features</a></p></li>
</ul>


<p>Android has grown complex.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[What is the replacement for iOS UDID?]]></title>
    <link href="http://samwize.com/2013/04/26/what-is-the-replacement-for-ios-udid/"/>
    <updated>2013-04-26T00:11:00+08:00</updated>
    <id>http://samwize.com/2013/04/26/what-is-the-replacement-for-ios-udid</id>
    <content type="html"><![CDATA[<p>Apple has long announced <code>uniqueIdentifier</code> UDIDs would be deprecated. From 1st May 2013, Apple will reject apps that use the deprecated identifier.</p>

<p>So what you have do?</p>

<p>DoubleEncore has writtern a good article on the <a href="http://www.doubleencore.com/2013/04/unique-identifiers/">other ways to generate UDID</a>. It is up to you and your use case.</p>

<p>For me, <a href="https://github.com/ylechelle/OpenUDID">OpenUDID</a> is the nearest replacement. The only difference is that it cannot persist the identifier if there is a system reset.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Android Developement Refresher 2013]]></title>
    <link href="http://samwize.com/2013/04/24/android-developement-refresher-2013/"/>
    <updated>2013-04-24T23:13:00+08:00</updated>
    <id>http://samwize.com/2013/04/24/android-developement-refresher-2013</id>
    <content type="html"><![CDATA[<p>It has been nearly 3 years since I stopped Android development.</p>

<p>A lot has changed since the days of version 1.6. Now it is 4.x!</p>

<p>Trying to do a little bit of compiling and setting up stuff these days, and I had some hiccups. This is a refresher guide on some topics.</p>

<!-- more -->


<h2>App Signing</h2>

<p>The <a href="http://developer.android.com/tools/publishing/app-signing.html">long guide</a> from Google didn&#8217;t explictly said:</p>

<ul>
<li><p>When you build your app, it will be automatically signed with your <code>debug.keystore</code>, which will be created in <code>/bin/myapp.apk</code>.</p></li>
<li><p>You can take that SIGNED apk and install on any real devices</p></li>
<li><p>Don&#8217;t be <a href="http://stackoverflow.com/q/4835925/242682">confused</a> with <code>Export Unsigned ..</code> option. Even if the device &#8220;allow installation of non-Marketed applciation&#8221;, the apk must be SIGNED</p></li>
<li><p>Linking all up, you can take the SIGNED apk from <code>/bin/myapp.apk</code> and email to your real device to install</p></li>
</ul>


<h2>Maps</h2>

<p>No longer a Map View class.</p>

<p>You have to read the <a href="http://developer.android.com/google/play-services/maps.html">Android guide</a>, and <a href="https://developers.google.com/maps/documentation/android/start#installing_the_google_maps_android_v2_api">setup Google Maps API V2 key</a>.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[s3cmd broken pipe error (errno 32)]]></title>
    <link href="http://samwize.com/2013/04/21/s3cmd-broken-pipe-error-errno-32/"/>
    <updated>2013-04-21T13:26:00+08:00</updated>
    <id>http://samwize.com/2013/04/21/s3cmd-broken-pipe-error-errno-32</id>
    <content type="html"><![CDATA[<p>If you use <a href="http://s3tools.org/s3cmd">s3cmd</a> and encountered <code>[Errno 32] Broken pipe</code> as you try to put an object in a bucket, understand that this is a <em>very very bad error message</em>.</p>

<p><a href="http://jeremyshapiro.com/blog/2011/02/errno-32-broken-pipe-in-s3cmd/">Jeremy</a> blogged about this and attributed the error to <strong>a typo in the bucket name</strong>.</p>

<p>Others attributed it to <strong>no permission</strong>, <strong>file too big</strong>, etc..</p>

<p>I attributed it to <strong>incorrect permission policy</strong>.</p>

<!-- more -->


<p>I was trying to create a new security group, and adding a new user, and restrict his access to only 1 of my S3 bucket. When you create a new security group, you can <a href="http://docs.aws.amazon.com/IAM/latest/UserGuide/PoliciesOverview.html">edit the policy</a>.</p>

<p>You might change to this, thinking it allows all action on <code>example_bucket</code>:</p>

<figure class='code'><figcaption><span>WRONG Policy</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='json'><span class='line'><span class="p">{</span>
</span><span class='line'>  <span class="nt">&quot;Statement&quot;</span><span class="p">:[{</span>
</span><span class='line'>     <span class="nt">&quot;Effect&quot;</span><span class="p">:</span><span class="s2">&quot;Allow&quot;</span><span class="p">,</span>
</span><span class='line'>     <span class="nt">&quot;Action&quot;</span><span class="p">:</span><span class="s2">&quot;*&quot;</span><span class="p">,</span>
</span><span class='line'>     <span class="nt">&quot;Resource&quot;</span><span class="p">:</span><span class="s2">&quot;arn:aws:s3:::example_bucket&quot;</span>
</span><span class='line'>   <span class="p">}]</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>You are wrong (though I say Amazon and it&#8217;s documentation to blame).</p>

<p>The <a href="http://stackoverflow.com/a/6955864/242682">correct way</a> is to have multiple statements like this:</p>

<figure class='code'><figcaption><span>Correct Policy</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
</pre></td><td class='code'><pre><code class='json'><span class='line'><span class="p">{</span>
</span><span class='line'>  <span class="nt">&quot;Statement&quot;</span><span class="p">:</span> <span class="p">[</span>
</span><span class='line'>    <span class="p">{</span>
</span><span class='line'>      <span class="nt">&quot;Effect&quot;</span><span class="p">:</span> <span class="s2">&quot;Allow&quot;</span><span class="p">,</span>
</span><span class='line'>      <span class="nt">&quot;Action&quot;</span><span class="p">:</span> <span class="p">[</span>
</span><span class='line'>        <span class="s2">&quot;s3:ListBucket&quot;</span><span class="p">,</span>
</span><span class='line'>        <span class="s2">&quot;s3:GetBucketLocation&quot;</span><span class="p">,</span>
</span><span class='line'>        <span class="s2">&quot;s3:ListBucketMultipartUploads&quot;</span>
</span><span class='line'>      <span class="p">],</span>
</span><span class='line'>      <span class="nt">&quot;Resource&quot;</span><span class="p">:</span> <span class="s2">&quot;arn:aws:s3:::example_bucket&quot;</span><span class="p">,</span>
</span><span class='line'>      <span class="nt">&quot;Condition&quot;</span><span class="p">:</span> <span class="p">{}</span>
</span><span class='line'>    <span class="p">},</span>
</span><span class='line'>    <span class="p">{</span>
</span><span class='line'>      <span class="nt">&quot;Effect&quot;</span><span class="p">:</span> <span class="s2">&quot;Allow&quot;</span><span class="p">,</span>
</span><span class='line'>      <span class="nt">&quot;Action&quot;</span><span class="p">:</span> <span class="p">[</span>
</span><span class='line'>        <span class="s2">&quot;s3:AbortMultipartUpload&quot;</span><span class="p">,</span>
</span><span class='line'>        <span class="s2">&quot;s3:DeleteObject&quot;</span><span class="p">,</span>
</span><span class='line'>        <span class="s2">&quot;s3:DeleteObjectVersion&quot;</span><span class="p">,</span>
</span><span class='line'>        <span class="s2">&quot;s3:GetObject&quot;</span><span class="p">,</span>
</span><span class='line'>        <span class="s2">&quot;s3:GetObjectAcl&quot;</span><span class="p">,</span>
</span><span class='line'>        <span class="s2">&quot;s3:GetObjectVersion&quot;</span><span class="p">,</span>
</span><span class='line'>        <span class="s2">&quot;s3:GetObjectVersionAcl&quot;</span><span class="p">,</span>
</span><span class='line'>        <span class="s2">&quot;s3:PutObject&quot;</span><span class="p">,</span>
</span><span class='line'>        <span class="s2">&quot;s3:PutObjectAcl&quot;</span><span class="p">,</span>
</span><span class='line'>        <span class="s2">&quot;s3:PutObjectAclVersion&quot;</span>
</span><span class='line'>      <span class="p">],</span>
</span><span class='line'>      <span class="nt">&quot;Resource&quot;</span><span class="p">:</span> <span class="s2">&quot;arn:aws:s3:::example_bucket/*&quot;</span><span class="p">,</span>
</span><span class='line'>      <span class="nt">&quot;Condition&quot;</span><span class="p">:</span> <span class="p">{}</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>  <span class="p">]</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>You need to split into 2 resources.</p>

<ol>
<li><p><code>arn:aws:s3:::example_bucket</code> - allow to list objects in the bucket</p></li>
<li><p><code>arn:aws:s3:::example_bucket/*</code> - allow to Get/Put/etc the objects in the bucket</p></li>
</ol>


<p>It&#8217;s subtle..</p>
]]></content>
  </entry>
  
</feed>
